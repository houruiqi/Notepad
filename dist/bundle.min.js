var np={};function comList(){var n,s=$('<div class="notepad-com-list"><input class="editor" type="text"><br><ul class="list"></ul></div>'),t=s.find(".editor"),e=s.find(".list"),c={container:"",list:[],select:0,width:"200px",isFont:!1,isFontStyle:!1,selectHandler:null};function i(){var l,i=$(c.container).find(".notepad-com-list");0!==i.length&&i.remove(),$(c.container).append(s),s.css({width:c.width}),function(){var l,i,s,t=0;if(c.isFont)for(t=0;t<c.list.length;t++)(l=$('<li class="item"></li>')).css({"font-family":c.list[t]}),e.append(l.html(c.list[t]));else if(c.isFontStyle)for(t=0;t<c.list.length;t++)l=$('<li class="item"></li>'),i=l,"斜体"!==(s=c.list[t])?"粗体"!==s?"粗偏斜体"!==s||i.css({"font-weight":"bold","font-style":"italic"}):i.css({"font-weight":"bold"}):i.css({"font-style":"italic"}),e.append(l.html(c.list[t]));else for(t=0;t<c.list.length;t++)l=$('<li class="item"></li>'),e.append(l.html(c.list[t]));n=e.find(".item")}(),l=c.select,$(n[l]).addClass("selected"),t.val(c.list[l]),t.select()}this.show=function(l){$.extend(c,l),i(),e.click(function(l){$(n[c.select]).removeClass("selected"),c.select=c.list.indexOf($(l.target).html()),$(n[c.select]).addClass("selected"),t.val(c.list[c.select]),t.select(),c.selectHandler(c.select)}),t.keyup(function(){var l=0;for(l=0;l<c.list.length&&0!==c.list[l].indexOf(t.val());l++);l!==c.list.length&&(n[l].scrollIntoView({behavior:"smooth",block:"start"}),$(n[c.select]).removeClass("selected"),$(n[l]).addClass("selected"),c.select=l)})}}np.config={appContainer:".notepad-app"},np.fontFamily="Arial",np.fontStype="常规",np.fontSize="16",np.fontHandler=function(l){np.fontFamily=l.family,np.fontStype=l.style,np.fontSize=l.size},$(function(){$menucontent.show()});var $menucontent=function(){var l=$('<div class="menu"><ul><li class="filebtn">文件(F)</li><li class="editbtn">编辑(E)</li><li class="formatbtn">格式(O)</li><li class="checkbtn">查看(V)</li><li class="helpbtn">帮助(H)</li></ul><div class="box file"><ul><li><p class="leftp">新建(N)</p><p class="rightp">Ctrl+N</p></li><li><p class="leftp">新窗口(W)</p><p class="rightp">Ctrl+Shift+N</p></li><li><p class="leftp">打开(O)</p><p class="rightp">Ctrl+O</p></li><li><p class="leftp">保存(S)</p><p class="rightp">Ctrl+S</p></li><li class="bottom_line"><p class="leftp">另存为(A)</p><p class="rightp">Ctrl+Shift+S</p></li><li><p class="leftp">页面设置(U)</p></li><li class="bottom_line"><p class="leftp">打印(P)</p><p class="rightp">Ctrl+P</p></li><li><p class="leftp">退出(X)</p></li></ul></div><div class="box edit"><ul><li class="bottom_line"><p class="leftp">撤销(U)</p><p class="rightp">Ctrl+Z</p></li><li><p class="leftp">剪切(T)</p><p class="rightp">Ctrl+X</p></li><li><p class="leftp">复制(O)</p><p class="rightp">Ctrl+C</p></li><li><p class="leftp">粘贴(S)</p><p class="rightp">Ctrl+V</p></li><li class="bottom_line"><p class="leftp">删除(L)</p><p class="rightp">Del</p></li><li><p class="leftp">使用Bing搜索…</p><p class="rightp">Ctrl+E</p></li><li><p class="leftp">查找(F)</p><p class="rightp">Ctrl+F</p></li><li><p class="leftp">查找下一个(N)</p><p class="rightp">F3</p></li><li><p class="leftp">查找上一个(V)</p><p class="rightp">Shift+F3</p></li><li><p class="leftp">替换(R)</p><p class="rightp">Ctrl+H</p></li><li class="bottom_line"><p class="leftp">转到(G)</p><p class="rightp">Ctrl+G</p></li><li><p class="leftp">全选(A)</p><p class="rightp">Ctrl+A</p></li><li><p class="leftp">日期/时间(D)</p><p class="rightp">F5</p></li></ul></div><div class="box format"><ul><li><p class="leftp">字体换行(Z)</p></li><li id="wordtype"><p class="leftp">字体(F)…</p></li></ul></div><div class="box check"><ul><li><p class="leftp">缩放(Z)</p></li><li><p class="leftp">状态栏(S)</p></li></ul></div><div class="box help"><ul><li><p class="leftp">查看帮助(H)</p></li><li class="bottom_line"><p class="leftp">发送反馈(F)</p></li><li><p class="leftp">关于记事本(A)</p></li></ul></div></div>'),i=l.find(".filebtn"),s=l.find(".editbtn"),t=l.find(".formatbtn"),n=l.find(".checkbtn"),e=l.find(".helpbtn"),c=l.find(".file"),o=l.find(".edit"),a=l.find(".format"),p=l.find(".check"),d=l.find(".help"),f=l.find("li"),r=l.find("p"),u=l.find(".box"),h=l.find(".file ul"),v=l.find(".file ul li"),g=l.find(".edit ul"),b=l.find(".edit ul li"),m=l.find(".format ul"),y=l.find(".format ul li"),k=l.find(".check ul"),w=l.find(".check ul li"),C=l.find(".help ul"),F=l.find(".help ul li"),x=(l.find(".menu"),0),S=l.find("#wordtype");function A(){v.css("background-color","rgb(238, 238, 238)"),c.css("display","none"),o.css("display","none"),a.css("display","none"),p.css("display","none"),d.css("display","none")}function H(){v.css("background-color","rgb(238, 238, 238)"),b.css("background-color","rgb(238, 238, 238)"),y.css("background-color","rgb(238, 238, 238)"),w.css("background-color","rgb(238, 238, 238)"),F.css("background-color","rgb(238, 238, 238)")}function z(l){1==x&&(A(),l.css("display","block"))}function B(l){l.delegate("li","click",function(){A(),x=0})}function O(l,i){l.delegate("li","mouseover",function(){i.css("background-color","rgb(238, 238, 238)"),$(this).css("background-color","rgb(42, 175, 252)")})}return{show:function(){$("body").append(l),$(document).click(function(l){f.is(l.target)||r.is(l.target)||u.is(l.target)||(A(),x=0)}),i.click(function(){A(),c.css("display","block"),x=1}),s.click(function(){A(),o.css("display","block"),x=1}),t.click(function(){A(),a.css("display","block"),x=1}),n.click(function(){A(),p.css("display","block"),x=1}),e.click(function(){A(),d.css("display","block"),x=1}),i.mouseover(function(){H(),z(c)}),s.mouseover(function(){H(),z(o)}),t.mouseover(function(){H(),z(a)}),n.mouseover(function(){H(),z(p)}),e.mouseover(function(){H(),z(d)}),B(h),B(g),B(m),B(k),B(C),O(h,v),O(g,b),O(m,y),O(k,w),O(C,F),S.click(function(){$dlgFont.show({family:np.fontFamily,style:np.fontStyle,size:np.fontSize,okHandler:np.fontHandler}),A(),x=0})}}}(),$dlgFont=function(){var i=$('<div class="handle"><div class="dialogbox main"><div class="notepad-dlg-titlebar nav"><p>字体</p><span class="close-btn">×</span></div><div class="content"><div class="entitle"><p class="tit1">字体(F)</p><p class="tit2">字形(Y)</p><p class="tit3">大小(S)</p></div><div class="external"><div class="list1"></div><div class="list2"></div><div class="list3"></div></div></div><div class="instance"><p>示例</p><div class="change">AaBbYyZz</div></div><div class="footer"><p>脚本(R):</p><select><option value ="volvo">西欧语言</option></select></div><div class="btn"> <input class="btn-ok" type="button" value="确定"><input class="btn-cancel" type="button" value="取消"></div></div></div>'),s=i.find(".btn-ok"),t=i.find(".close-btn"),n=i.find(".btn-cancel"),l=i.find(".change"),e=i.find(".notepad-dlg-titlebar"),c=["Agency FB","Algerian","Arial","Arial Rounded MT","Axure Handwriting","Bahnschrift","Baskerville Old Face","Bauhaus 93","Bell MT","Berlin Sans FB","Bernard MT","BlackAdder ITC"],o=["常规","斜体","粗体","粗偏斜体"],a=["8","9","10","11","12","14","16","18","20","22","24","26","28","36","48","72"],p={family:"Arial",style:"常规",size:"16",okHandler:null};function d(){return l.css({"font-family":p.family,"font-size":p.size+"pt"}),"常规"===p.style&&(l.css({"font-style":"normal"}),l.css({"font-weight":"normal"})),"斜体"===p.style?(l.css({"font-style":"italic"}),void l.css({"font-weight":"normal"})):"粗体"===p.style?(l.css({"font-style":"normal"}),void l.css({"font-weight":"bold"})):void("粗偏斜体"!==p.style||l.css({"font-weight":"bold","font-style":"italic"}))}function f(){i.remove()}return{show:function(l){$.extend(p,l),$("body").append(i),(new comList).show({container:".list1",width:"176px",list:c,select:c.indexOf(p.family),isFont:!0,selectHandler:function(l){p.family=c[l],d()}}),(new comList).show({container:".list2",width:"132px",list:o,select:o.indexOf(p.style),isFontStyle:!0,selectHandler:function(l){p.style=o[l],d()}}),(new comList).show({container:".list3",width:"64px",list:a,select:a.indexOf(p.size),selectHandler:function(l){p.size=a[l],d()}}),d(),i.find(".dialogbox").draggable({handle:e}),n.click(function(){f()}),t.click(function(){f()}),s.click(function(){f()}),i.click(function(l){l.stopPropagation()})}}}();